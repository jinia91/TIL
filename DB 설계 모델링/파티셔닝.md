# db 파티셔닝 이란?
- 대용량 데이터를 가진 DB
- 특히 1억건의 데이터가 들어간 테이블이 존재할때 어떻게 해야할까?
- 테이블을 파티션이라는 작은 단위로 나눠 관리하는 파티셔닝 기법

## 목적
- 성능향상
- 대용량 write 환경에서 효율적
- full table 스캔이 일어날시 극적 성능향상 노려볼수 있음
- 분할 영역별 독립 백업이 가능
- 관리용이

# 파티셔닝의 장단점
## 장점
- 목적과 동이

## 단점
- 테이블간 join 비용 증가, 테이블과 인덱스는 분리 불가능

# 파티셔닝의 종류

## 수평 파티셔닝
- 샤딩
- 스키마를 복제하고 샤드키 기준으로 데이터를 나누는것
- 즉 하나의 테이블을 특정 기준으로 분산 저장하는것
- 예를들어 99년 00년 따로 찢어 저장한다던가 
- 하나의 데이터베이스 안에서 이루어지는경우를 칭함
- 주민데이터 처리를 위해 목동, 화곡동 주민테이블로 쪼갠다던가

### 단점
- 데이터 전체를 찾을시 지연증가
- 데이터 무결성 관리를 못할수도

## 수직 파티셔닝
- 테이블의 일부 컬럼을 뜯어내는것
- 스키마를 나누고 데이터도 따라감
- 사실상 정규화와 비슷(정규화된 테이블을 또 정규화한다?)
- 일반적으로 잘 사용하지 않는 엔티티상의 데이터를 1대1관계임에도 뜯어내는것
- join 비용 증가는 불가피


# DB 파티셔닝의 분할 기준
![image](https://user-images.githubusercontent.com/85499582/185146627-3e39dc6c-a77b-4029-bcde-86aefeb0e416.png)

## 범위분할(`range partitioning`)
- 분할키 값이 범위에 있는지 여부로 구분
- 년도별 날짜기준 00년 1월1일을 분할키로 00년범위 데이터를 분할

## 목록 분할(`list partitioning`)
- 00년, 11년, 03년 처럼 비연속 값을 리스트화하여 해당 리스트만 별도로 분할하는 기법

## 해시분할(`hash partitioning`)
- 해시 함수값에 따라 분할

## 합성 분할(`composite partitioning`)
위의 분할기업을 결합하여 복합 분할
