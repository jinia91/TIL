---


---

<h2 id="osi-2계층데이터링크-계층">OSI 2계층(데이터링크 계층)</h2>
<p>TCP/IP 모형에서는 1계층과 더불어 네트워크 접속계층으로 분류되는 데이터 링크 계층은 <strong>네트워크 장비간의 신호를 주고받는 규칙</strong>을 정하는 계층이다.</p>
<p>1계층과 마찬가지로 하드웨어와 밀접한 관련이 있는데, 앞서 편지를 보내는 비유에서</p>
<p>1계층 프로토콜과 1계층의 장비들(허브나 리피터)만으로는 내가 원하는 상대에게 메세지를 보내기가 어려웠다.</p>
<p>하지만 2계층 프로토콜은 위의 문제들을 해결할 수단을 제공해준다.</p>
<h2 id="이더넷-프로토콜">이더넷 프로토콜</h2>
<p>2계층에서 핵심이 되는 프로토콜은 바로 이더넷 프로토콜이다.</p>
<p>이더넷(Ethernet)은 앞에서 살펴봤던 랜(LAN)에서 가장 많이 사용되는 프로토콜인데 <strong>개방 시스템간의 연결 설정과 유지 및 제어를 위한</strong> 다양한 규칙들을 정의해 놓고 있다.</p>
<h3 id="mac-주소">MAC 주소</h3>
<p>우선 원하는 연결 설정을 위해서 송신자의 데이터를 원하는 수신자에게 전달하기 위한 규칙이 필요할 것이다.</p>
<p>이더넷은 MAC(Media Access Control) 주소를 제공하는데 보통 랜카드가 제조될때 새겨지기 때문에 물리주소라고 불리며 <strong>전세계에서 유일한 번호</strong>임을 보장한다.</p>
<p>이더넷은 바로 이 MAC주소를 편지의 우편번호처럼 사용하여 원하는 수신자에게 신호를 전송한다.</p>
<p>송신자의 데이터는 OSI 모델의  3계층 까지 내려가면서 부가정보가 이것 저것 붙게되는데, 여기에 더해 2계층에서는 <strong>이더넷 헤더</strong>와 <strong>트레일러</strong> 부착되어 1계층으로 전달 된다.<br>
<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSE9XDSZjvF0WYtSmU4pItn1Gn3MhqPpsm3Ng&amp;usqp=CAU" alt="enter image description here"></p>
<p>이더넷 헤더에는 목적지의 MAC주소 + 출발지의 MAC주소 + 부가정보(유형)이 담겨 있으며 트레일러에는 오류감지용도의 데이터가 담겨있으며,</p>
<p>이 신호는 1계층의 장비인 허브를 통해 허브와 연결된 모든 컴퓨터로 전달되더라도,</p>
<p>이더넷 프로토콜에 의해 목적지의 MAC주소에 해당하지 않는 랜카드들은 해당 정보를 파기하게된다.</p>
<h3 id="csmacd">CSMA/CD</h3>
<p>이더넷의 주요기능을 다시 읽어보면  <strong>개방 시스템간의 연결 설정과 유지 및 제어를 위한</strong>프로토콜을 제공한다고 정의했다.</p>
<p>개방시스템과의 연결 설정은 MAC주소로 한다고할 때, 유지 및 제어는 어떤 역할을 할까?</p>
<p>네트워크를 LAN 규모로 볼 때 여러대의 컴퓨터는 하나의 허브에 연결되어있으며, 만약 동시에 데이터 신호를 송출하게 되면 이 신호들은 회선이나 허브안에서 충돌이 일어날 수 있다.</p>
<p>그래서 이더넷은 여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 방식인 CSMA/CD(Carrier sense Multiple Access with Collision Detection)를 사용한다.</p>
<p>영어가 너무 길어서 복잡하고 어려워보일수 있는데 끊어서 살펴보면,<br>
Carrier Sense는 송신자가 현재 회선에 신호가 흐르는지 탐지하고<br>
Multiple Access는 안전할 경우 송신허용한다는 의미며<br>
Collision Detection 은 그다음 충돌을 탐지한다는 뜻이다.</p>
<p>즉 송신시 회선에 신호가 흐르는지 탐지후, 안전할경우 송신을 하고 충돌을 탐지하는 알고리즘으로 흐름을 제어하고 충돌을 방지하는 방식을 말한다.</p>
<h3 id="허브의-진화-스위치l2">허브의 진화 스위치(L2)</h3>
<p>앞서 이더넷 프로토콜을 통해 1계층의 문제점들을 어떻게 해결하는지 살펴보았다.</p>
<p>그런데 위의 방법들을 자세히 살펴보면 공통점을 발견할 수 있다.</p>
<p>바로 1계층의 문제점이 모두 <strong>허브</strong>에서 발생한다는 점이다.</p>
<p>그렇다면 여기서 허브를 개선한다면 네트워크의 연결과 유지및 제어가 훨씬 수월해지지않을까?</p>
<p>그래서 등장한 것이 바로 더미허브에 여러가지 기능을 추가한 <strong>스위치</strong>(L2)다.<br>
우선 스위치는 <strong>MAC주소 테이블</strong>을 내장하고 있으며 스위치로 들어오는 MAC주소를 판독해 출발주소는 등록, 목적주소는 주소테이블을 탐색하고 해당주소로 보내 원하는 신호를 제 곳으로 보내주는 기능을 한다.</p>
<p>이를 MAC주소 필터링이라고 부르며 불필요한 데이터를 네트워크에 전송하지 않음으로서 보다 안전한 데이터 전송을 가능케 한다.</p>
<p>또한 스위치는 <strong>전이중통신방식</strong>을 통해 데이터를 주고받음으로서 충돌을 피하면서 송수신을 가능하게 하여 통신 효율을 높일 수 있다. 따라서 스위치를 사용하면 CSMA/CD  메커니즘도 통신중 필요 없게 된다.</p>
<p>실제로 CSMA/CD는 효율성이 낮다는 이유로 현재는 거의 사용하지 않는다고 한다.</p>

