# 프로세스의 개요
- 프로세스 : 실행중인 프로그램
  - 프로그램 : 동작을 하지 않는 정적 수동적 개체
  - 프로세스 : 동작을 하는 능동적 개체

- 운영체제로부터 자원을 할당 받아 동작
  - 자원 : CPU, 메모리, 입출력장치, 파일 등
  - 동작 : CPU가 프로세스의 명력을실행

# 프로세스와 운영체제
## 운영체제가 처리하는 작업
- 프로세스의 생성 및 종료
- 프로세스를 실행시키기 위한 스케줄링 작업
- 프로세스의 상태 관리


## 프로세스의 구성
### 메모리 구조
#### 프로그램 실행에 직접적으로 필요한 코드와 데이터
- 코드 영역 + 데이터 영역(정적데이터 영역+ 스택 영역+ 힙 영역)
- 
#### 프로세스 제어블록(Process controll block)
- 운영체제가 프로세스를 관리하기 위해 필요한 정보

<img width="268" alt="스크린샷 2023-03-25 오후 6 39 04" src="https://user-images.githubusercontent.com/85499582/227709453-dad64a5c-f911-4664-8b86-7014a009241e.png">

- 각 프로세스 마다 존재
- 여러 프로세스가 번갈아 실행되는 경우 PCB에 저장된 정보 활용


# 프로세스 상태관리
## 프로세스 상태
- 생성 : 처음 작업이 시스템에 주어진 상태(PCB초기화등이 필요)
- 준비 : 실행 준비가 되어 CPU 할당을 기다리는 상태 (준비큐에 존재)
- 대기 : 프로세스가 I/O 작업이 끝날때까지 또는 특정 자원을 할당받을 때까지 보류되는 상태
- 실행 : 프로세스가 처리되는 상태
- 종료 : 프로세스가 더이상 실행되지 않도록 끝난 상태

상태변화
<img width="634" alt="image" src="https://user-images.githubusercontent.com/85499582/227709901-c266ae5f-1f57-4aa3-b747-c52b74938240.png">


# 부모프로세스와 자식프로세스
## 프로세스 생성 방법
- 사용자가 프로그램을 직접 실행
- 한프로세스가 다른 프로세스를 생성
  - 프로세스 생성 시스템 호출 이용
  - 부모프로세스 : 시스템 호출을 하는 프로세스
  - 자식프로세스 : 시스템 호출을 통해 새로 생성된 프로세스

## 프로세스 생성 시스템 호출
- UNIX, LINUX: fork()
  - 자식 프로세스는 부모프로세스의 복제본

<img width="790" alt="스크린샷 2023-03-25 오후 6 51 52" src="https://user-images.githubusercontent.com/85499582/227710074-334300a7-379e-4f61-b4f6-231d29172d64.png">

다른 PID를 갖지만 나머진 다 같으므로, 같은 PC값

- UNIX, LINUX: exec()
  - 자식 프로세스는 부모프로세스와는 다른 프로그램 실행

<img width="785" alt="image" src="https://user-images.githubusercontent.com/85499582/227710166-293ab4a2-7c08-4e75-811e-f7ad3151baaf.png">

위와같은 방식으로 자기 자신(PID)를 다른 프로세스로 변환시키는듯?


- windows: createProcess()
  - 자식프로세스는 새로운 프로그램으로 생성


# 프로세스 종료하는방법
## 프로세스 종료
- 프로세스가 모듲 처리를 완료(정상적 종료)
- 부모 프로세스에 의해 자식 프로세스가 강제 종료
  - 프로세스 종료 시스템 호출 이용
  - 자식 프로세스 생성시 얻은 자식 PID 이용

- 부모프로세스가 종료되는 경우 운영체제가 자식프로세스 찾아서 종료



# 쓰레드 개요
## 전통적인 프로세스?
하나의 프로그램을 실행시키기 위한 기본적인 단위
- 자원소유의 단위(현대도 ok)
  - 하나의 메모리 구조
- 디스패칭의 단위(이젠 아님)
  - 하나의 제어흐름

> 프로세스내에서 다중처리가 불가능

## 쓰레드
- 프로세스 내에서의 다중처리를 위해 제안된 개념
- 하나의 프로그램을 실행하기 위한 기본적인 단위(현대의 개념)
- 디스패칭의 

<img width="360" alt="스크린샷 2023-03-25 오후 6 59 43" src="https://user-images.githubusercontent.com/85499582/227710445-4baad493-3a16-4346-a732-0c6c51937aac.png">

하나의 프로세스는 하나 이상의 스레드 보유

근데... 스택은 어디에?

### 쓰레드는 실향에 필요한 최소한의 정보(스택과 레지스터, pc, 상태)를 가지게됨

<img width="356" alt="스크린샷 2023-03-25 오후 7 01 59" src="https://user-images.githubusercontent.com/85499582/227710548-bac3151b-5721-4815-b7e5-5707cf58c160.png">

- pc포함 레지스터값
- 상태 정보
- 스택 영역

## 다중 쓰레드로 구성된 프로세스
- 멀티 CPU 또는 멀티 코어시스템에서...
- 다중 쓰레드를 병렬로 처리가능

- 처리속도 별로 쓰레드가 나눠진 경우(core, I/O, Background)
  - 효율적인 처리가가능


작업단위를 잘게 쪼개놓았으므로 멀티 코어가 효율적으로 스레드 처리가 가능하단 소리!
