# 인증
## 인증의개념
- 어떤 실체가 정말 그 시렟가 맞는지 확인하는 과정
- 실체 : 메시지, 사용자, 출처, 장치 등

## 메시지 인증의 개념
- 수신된 메시지에 대한 인증
- 메시지의 내용이 전송 도중 불법적으로 변경되지 않고 정확하고 완전하게 수신되었는지 확인하는 것
- 메시지에 대한 무결성 확인

## 메시지 인증 방법 : 메시지 인증 코드(MAC)
- Message Authentication Code
- 메시지 인증을 위한 부가적인 정보
- 송신자는 메시지를 보낼때 MAC을 함께 전송
- 수신자는 받은 메시지의 변조 여부를 MAC을 이용해 확인

<img width="672" alt="image" src="https://github.com/jinia91/TIL/assets/85499582/ca0dfb97-37b9-4afc-8b39-6438a2cfcfee">

- 서로 같은 비밀키로 MAC를 비교하여 무결성 검증

### MAC의 특징
- 비밀키 이용
- 기밀성을 제공하진 않음 : MAC와 메시지는 독립적인 부분이므로 메시지자체가 변조, 감청될경우를 피할 수는 없음 -> 메시지 암호화가 필요
- 작은 크기 : 메시지 크기와는 무관

### 메시지 인증 알고리즘
#### HMAC
- 해시 함수에 기반
- 비밀키를 메시지에 덧붙인 후, 전체 메시지와 비밀키를 해시함수로 해시코드 만들어서 여기에 비밀키를 더해 한번더 해시화
- 2번 해시화하는 이유는 길이확장 공격등의 취약점으로부터 보안을 강화하기 위함
- 메시지원본 + 비밀키를 2번 해시값을 내어 무결성까지 체크할수 있는 MAC
- 메시지를 암호화하는건 아님

#### CMAC
- 블록 암호에 기반
- CBC 모드를 메시지에 적용
- 블록을 비밀키로 암호화하여 블록간 xor 연산으로 작은 크기로 MAC을 유지

## 사용자 인증의 개념
- 시스템에 접근하려는 사용자에 대한 인증
- 시스템 : 서버, pc, 스마트폰, 홈페이지 건물이나 사무실의 전자식 잠금장치 등
- 해당 사용자가 정말 그 사용자가 맞는지 확인하는 과정
- 비밀번호, 생체인식, 토큰, 2단계인증 등등

### 비밀번호 방식
- 가장 일반적인 방식의 사용자 인증
- 사용자가 입력하는 비밀번호가 시스템에 저장된 정보와 일치하는지 여부로 인증
- 사용자 ID와 비밀번호를 함께 이용하는 경우 : 시스템은 사용자ID와 비밀번호 쌍을 알고있어야함

#### 비밀번호 저장방법
- 비밀번호를 해시코드로 저장
- 시스템에 저장된 비밀번호가 유출될 것을 대비


### 생체 인식 방식
- 개개인의 고유한 정보인 특정 생체 정보를 이용하는 사용자 인증
- 생체 정보 : 지문, 홍채, 얼굴, 음성, 손등이나 손바닥 혈관 등등

### 토큰 방식
- 사용자가 소유하고 있는 특정한 정보를 이용하는 사용자 인증
- 토큰 : 보안 토큰, 스마트카드, 실물키, 휴대전화 등(IC 칩같은거도)
- 토큰 안에 저장된 정보를 통해 얻을수 있는 결괏값 이용

### 2단계 인증(2FA) 방식
- Two -Factor Auth
- 사용자가 알고있는 정보 + 소유하고 있는정보 모두 이용하는 사용자 인증
- 알고있는정보 : 비밀번호 등
- 소유하고있는 정보 : 토큰 등
- 서로 다른 성격의 정보를 혼합하여 활용함으로서 좀 더 엄밀한 사용자 인증 가능

#### MFA(Multi - factor auth)
- 알고있는 정보 + 소유하고있는 정보 + 고유한 속성 중 둘 이상을 사용



  
